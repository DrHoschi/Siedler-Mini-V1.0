/* ============================================================================
   Datei   : ui/css/ui-inspector.css
   Projekt : Neue Siedler – Inspector
   Version : v18.15.2 (restore classic look)
   Zweck   : Vollbild-Overlay + Tabs (Logs/Build/Paths/Resources/Tests)
   Hinweis : Host kann #inspector ODER #inspector-overlay heißen.
             Sichtbarkeits-Toggle über .open ODER body.inspector-open.
============================================================================ */

/* ---------- Theme / Vars ---------- */
:root{
  --insp-bg: rgba(18,18,20,.96);
  --insp-panel: #131316;
  --insp-header: #1f1f23;
  --insp-border: #2a2a2e;
  --insp-tab: #2b2b30;
  --insp-tab-active: #e5e5e5;
  --insp-fg: #eaeaea;
  --insp-muted: #b9bac1;
  --insp-ok: #3bd16f;
  --insp-info: #60a5fa;
  --insp-warn: #fbbf24;
  --insp-error: #f87171;

  --radius: 12px;
  --z: 2147483000;

  --safe-top: env(safe-area-inset-top, 0px);
  --safe-right: env(safe-area-inset-right, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --safe-left: env(safe-area-inset-left, 0px);
}

/* ---------- FAB (kleines Zahnrad) ---------- */
#btn-inspector {
  position: fixed;
  right: calc(14px + var(--safe-right));
  bottom: calc(14px + var(--safe-bottom));
  z-index: var(--z);
  width: 46px; height: 46px;
  border: 0; border-radius: 10px;
  background: #2b2b30; color:#fff;
  box-shadow: 0 3px 10px rgba(0,0,0,.35);
  font-weight: 700;
  cursor: pointer;
}
#btn-inspector:active{ transform: scale(.98); }
.cb-fab[hidden]{ display:none !important; }

/* ---------- Host / Overlay ---------- */
#inspector-overlay,
#inspector{
  position: fixed;
  inset: 0;
  display: none;
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  background: var(--insp-bg);
  color: var(--insp-fg);
  z-index: var(--z);
}

/* sichtbar: entweder .open am Host ODER .inspector-open am <body> */
#inspector.open,
#inspector-overlay.open,
body.inspector-open #inspector,
body.inspector-open #inspector-overlay{
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
  pointer-events: auto !important;
}

/* optionaler Debug-Rand – per JS: el.setAttribute('data-insp-debug','on') */
#inspector[data-insp-debug="on"],
#inspector-overlay[data-insp-debug="on"]{ outline: 3px solid #ff0 !important; }

/* ---------- Frame / Layout ---------- */
.insp-frame{
  position: absolute;
  inset: 0;
  display: grid;
  grid-template-rows: auto 1fr;
  padding:
    calc(8px + var(--safe-top))
    calc(8px + var(--safe-right))
    calc(8px + var(--safe-bottom))
    calc(8px + var(--safe-left));
  box-sizing: border-box;
}

/* Header mit Tabs + Close */
.insp-header{
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  background: var(--insp-header);
  border: 1px solid var(--insp-border);
  border-bottom: none;
  padding: 8px;
  border-radius: var(--radius) var(--radius) 0 0;
}

/* Tabs-Leiste */
.insp-tabs{
  display: flex;
  gap: 8px;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  padding: 4px;
}
.insp-tab{
  flex: 0 0 auto;
  padding: 8px 12px;
  border-radius: 14px;
  background: var(--insp-tab);
  color: var(--insp-muted);
  border: 1px solid var(--insp-border);
  cursor: pointer;
  white-space: nowrap;
  font-weight: 600;
  user-select: none;
}
.insp-tab.active{
  background: var(--insp-tab-active);
  color: #0d0d10;
}

/* Schließen-X im Header */
.insp-close{
  position: sticky;
  top: calc(0px + var(--safe-top));
  right: 0;
  margin-left: 8px;
  padding: 8px 12px;
  border-radius: 10px;
  background: #3a3a40;
  color: #fff;
  border: 1px solid var(--insp-border);
  cursor: pointer;
}

/* Content-Pane */
.insp-content{
  min-height: 0;
  overflow: auto;
  background: var(--insp-panel);
  border: 1px solid var(--insp-border);
  border-top: none;
  border-radius: 0 0 var(--radius) var(--radius);
  padding: 8px;
}

/* ---------- Reusable UI-Bausteine ---------- */
.pad{ padding: 8px 10px; }
.hint{ opacity: .8; font-size: .9em; }
.warn{
  color:#ffb; background:#552;
  padding:8px; border:1px solid #aa8; border-radius:8px;
}
.toolbar{
  display:flex; gap:8px; align-items:center; flex-wrap:wrap; margin-bottom:8px;
}
.insp-btn{
  padding: 6px 12px;
  border-radius: 999px;
  border: 1px solid var(--insp-border);
  background: #2e2e33;
  color: #eee;
  cursor: pointer;
  line-height: 1.2;
}
.insp-btn:hover{ background:#34343a; }
.insp-btn:active{ transform: translateY(1px); }
.insp-btn[disabled]{ opacity:.55; cursor:not-allowed; }

/* Tabellen (Events/Build/Resources/Paths …) */
.inspector-table{ border-collapse: collapse; width: 100%; }
.inspector-table th,
.inspector-table td{
  border: 1px solid #555;
  padding: 6px 8px;
  vertical-align: top;
}
.inspector-table thead th{ background: #2a2a2a; }

/* ---------- LOGS-spezifisch (klassische Optik) ---------- */
.insp-logs{
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  font-size: 13px;
}
.insp-filters{
  display:flex; gap:12px; flex-wrap:wrap; align-items:center;
  color: var(--insp-muted);
  padding: 4px 0 8px;
}
.insp-actions{ display:flex; gap:8px; align-items:center; padding:6px 0 10px; }

#logs-list{ padding-bottom:4px; }
.insp-logline{
  display:flex; gap: 8px; align-items: baseline;
  padding: 4px 2px;
  border-bottom: 1px dashed var(--insp-border);
}
.insp-logline:last-child{ border-bottom: none; }
.insp-logline .sym{ width:16px; text-align:center; }
.insp-logline .ts{ color: var(--insp-muted); }

/* Farbsymbole – wie früher */
.insp-logline.ok    .sym{ color: var(--insp-ok); }
.insp-logline.info  .sym{ color: var(--insp-info); }
.insp-logline.warn  .sym{ color: var(--insp-warn); }
.insp-logline.error .sym{ color: var(--insp-error); }

/* ---------- Mobil/kleinere Screens ---------- */
@media (max-width: 640px){
  .insp-tabs{ gap:6px; }
  .insp-tab{ padding:7px 10px; }
  .insp-btn{ padding:6px 10px; }
  .inspector-table th, .inspector-table td{ padding:5px 6px; }
}
